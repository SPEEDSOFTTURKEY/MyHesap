import{r as n,_ as K,aL as Q,a_ as U,w as t,R as r,a$ as W,v as X,P as e,b0 as Y,b1 as Z}from"./index-DAwD_DDx.js";import{g as ee,e as oe}from"./getRTLPlacement-DzrghC2g.js";var x=n.forwardRef(function(o,F){var L=o.children,v=o.animation,M=v===void 0?!0:v,j=o.className,q=o.container,_=o.content,b=o.delay,l=b===void 0?0:b,g=o.fallbackPlacements,A=g===void 0?["top","right","bottom","left"]:g,h=o.offset,B=h===void 0?[0,8]:h,y=o.onHide,P=o.onShow,w=o.placement,I=w===void 0?"top":w,d=o.popperConfig,V=o.title,k=o.trigger,i=k===void 0?"click":k,m=o.visible,$=K(o,["children","animation","className","container","content","delay","fallbackPlacements","offset","onHide","onShow","placement","popperConfig","title","trigger","visible"]),a=n.useRef(null),s=n.useRef(null),z=Q(F,a),C="popover".concat(n.useId()),E=n.useState(!1),f=E[0],R=E[1],T=n.useState(m),c=T[0],N=T[1],S=U(),D=S.initPopper,G=S.destroyPopper,H=typeof l=="number"?{show:l,hide:l}:l,O={modifiers:[{name:"arrow",options:{element:".popover-arrow"}},{name:"flip",options:{fallbackPlacements:A}},{name:"offset",options:{offset:B}}],placement:ee(I,s.current)},J=t(t({},O),typeof d=="function"?d(O):d);n.useEffect(function(){if(m){p();return}u()},[m]),n.useEffect(function(){if(f&&s.current&&a.current){D(s.current,a.current,J),setTimeout(function(){N(!0)},H.show);return}!f&&s.current&&a.current&&G()},[f]),n.useEffect(function(){!c&&s.current&&a.current&&oe(function(){R(!1)},a.current)},[c]);var p=function(){R(!0),P&&P()},u=function(){setTimeout(function(){N(!1),y&&y()},H.hide)};return r.createElement(r.Fragment,null,r.cloneElement(L,t(t(t(t(t({},c&&{"aria-describedby":C}),{ref:s}),(i==="click"||i.includes("click"))&&{onClick:function(){return c?u():p()}}),(i==="focus"||i.includes("focus"))&&{onFocus:function(){return p()},onBlur:function(){return u()}}),(i==="hover"||i.includes("hover"))&&{onMouseEnter:function(){return p()},onMouseLeave:function(){return u()}})),r.createElement(W,{container:q,portal:!0},f&&r.createElement("div",t({className:X("popover","bs-popover-auto",{fade:M,show:c},j),id:C,ref:z,role:"tooltip"},$),r.createElement("div",{className:"popover-arrow"}),r.createElement("div",{className:"popover-header"},V),r.createElement("div",{className:"popover-body"},_))))});x.propTypes={animation:e.bool,children:e.node,className:e.string,container:e.any,content:e.oneOfType([e.string,e.node]),delay:e.oneOfType([e.number,e.shape({show:e.number.isRequired,hide:e.number.isRequired})]),fallbackPlacements:Z,offset:e.any,onHide:e.func,onShow:e.func,placement:e.oneOf(["auto","top","right","bottom","left"]),popperConfig:e.oneOfType([e.func,e.object]),title:e.oneOfType([e.string,e.node]),trigger:Y,visible:e.bool};x.displayName="CPopover";export{x as C};
