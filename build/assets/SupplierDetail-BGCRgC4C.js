import{ai as Ge,J as qe,u as We,r as j,t as E,j as e,g as D,s as b,h as S,q as R,e as Y,f as x,m as De,B as _,D as V,E as J,F as g,$ as ne,a0 as le,a1 as N,a2 as m,a3 as ie,a4 as k,N as te,Q as oe,S as ce,T as de,W as ue,i as Ke,U as Q,V as _e,o as be,ah as Ve}from"./index-DtN76qeb.js";import{S as Je}from"./SupplierModal-Df4Vr4WA.js";import{c as Qe}from"./cil-reload-6LI_qKMh.js";import{C}from"./CDropdownDivider-BJ8UP0Y8.js";import{c as Xe}from"./cil-list-CLA-Txc1.js";const w="https://speedsofttest.com/api",Se=d=>{if(!d||typeof d!="string"||d==="null")return`data:image/svg+xml;base64,${window.btoa(unescape(encodeURIComponent(`
      <svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100">
        <rect width="100" height="100" fill="#e9ecef"/>
        <circle cx="50" cy="35" r="15" fill="#6c757d"/>
        <path d="M20 80 Q50 60 80 80" stroke="#6c757d" stroke-width="3" fill="none"/>
        <text x="50" y="95" text-anchor="middle" font-family="Arial" font-size="8" fill="#6c757d">Fotoğraf Yok</text>
      </svg>
    `)))}`;if(d.startsWith("https"))return`${d}?t=${new Date().getTime()}`;const B=d.startsWith("/")?d:`/${d}`;return`${w}${B}?t=${new Date().getTime()}`},lr=()=>{const{id:d}=Ge(),{state:B}=qe(),P=We(),[u,he]=j.useState((B==null?void 0:B.supplier)||null),[$,X]=j.useState([]),[O,H]=j.useState([]),[Ce,Z]=j.useState(!1),[we,F]=j.useState(!1),[f,Ue]=j.useState(null),[ee,L]=j.useState(!1),[xe,ge]=j.useState(null),[Ze,Ee]=j.useState([]),[Ye,re]=j.useState(!1),[ve,je]=j.useState(!1),[Ae,Ie]=j.useState([]),[p,ae]=j.useState({tedarikciId:null,paraBirimi:"TRY",tutar:"",aciklama:""}),[T,z]=j.useState({USD:32.5,EUR:35.2,lastUpdated:new Date,loading:!1,error:null}),G="doviz_kurlari_cache_supplier",Ne=async()=>{const a=localStorage.getItem(G);if(a){const s=JSON.parse(a),n=new Date(s.lastUpdated).getTime();if(new Date().getTime()-n<5*60*1e3)return s}const t=[{url:"https://api.fastforex.io/fetch-multi?from=TRY&to=USD,EUR&api_key=demo",parser:s=>{var n,o;return{USD:(n=s.results)!=null&&n.USD?1/s.results.USD:32.5,EUR:(o=s.results)!=null&&o.EUR?1/s.results.EUR:35.2}}},{url:"https://api.exchangerate.host/latest?base=TRY&symbols=USD,EUR",parser:s=>{var n,o;return{USD:(n=s.rates)!=null&&n.USD?1/s.rates.USD:32.5,EUR:(o=s.rates)!=null&&o.EUR?1/s.rates.EUR:35.2}}},{url:"https://cdn.jsdelivr.net/npm/@fawazahmed0/currency-api@latest/v1/currencies/try.json",parser:s=>{var n,o;return{USD:(n=s.try)!=null&&n.usd?1/s.try.usd:32.5,EUR:(o=s.try)!=null&&o.eur?1/s.try.eur:35.2}}}],l=new Promise((s,n)=>setTimeout(()=>n(new Error("Timeout")),3e3));for(const s of t)try{const n=fetch(s.url).then(U=>{if(!U.ok)throw new Error("API error");return U.json()}),o=await Promise.race([n,l]),c=s.parser(o),r={USD:c.USD,EUR:c.EUR,lastUpdated:new Date,loading:!1,error:null};return localStorage.setItem(G,JSON.stringify(r)),r}catch(n){console.log(`API ${s.url} çalışmadı:`,n);continue}throw new Error("Tüm hızlı API'ler çalışmadı")},me=async()=>{try{z(t=>({...t,loading:!0,error:null}));const a=await Ne();z(a),h("Döviz kurları güncellendi.","success")}catch{console.log("Hızlı API'ler çalışmadı, fallback kullanılıyor");const t=localStorage.getItem(G);if(t){const l=JSON.parse(t);z(l),h("Güncel kurlar alınamadı, önbellek kullanılıyor","warning");return}z({USD:32.5,EUR:35.2,lastUpdated:new Date,loading:!1,error:"Gerçek kurlar alınamadı, yaklaşık değerler kullanılıyor"}),h("Döviz kurları alınamadı, yaklaşık değerler kullanılıyor.","warning")}},Be=()=>{const a=$.reduce((c,r)=>(r.currency||"TRY")==="TRY"?c+(r.amount||0):c,0),t=$.reduce((c,r)=>(r.currency||"TRY")==="EUR"?c+(r.amount||0):c,0),l=$.reduce((c,r)=>(r.currency||"TRY")==="USD"?c+(r.amount||0):c,0),s=t*T.EUR,n=l*T.USD,o=a+s+n;return{totalTRY:a,totalEUR:t,totalUSD:l,totalEURinTRY:s,totalUSDinTRY:n,totalAllInTRY:o}},Pe=()=>{const a=O.reduce((c,r)=>(r.currency||"TRY")==="TRY"?c+(r.amount||0):c,0),t=O.reduce((c,r)=>(r.currency||"TRY")==="EUR"?c+(r.amount||0):c,0),l=O.reduce((c,r)=>(r.currency||"TRY")==="USD"?c+(r.amount||0):c,0),s=t*T.EUR,n=l*T.USD,o=a+s+n;return{totalTRY:a,totalEUR:t,totalUSD:l,totalEURinTRY:s,totalUSDinTRY:n,totalAllInTRY:o}},Fe=a=>new Date(a).toLocaleDateString("tr-TR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),h=(a,t="success")=>{Ee(l=>[...l,{id:Date.now(),message:a,type:t}])},Le=async(a,t)=>{var l,s,n;try{const{data:o}=await E.get(a);console.log(`API Response for ${a}:`,o);const c=Array.isArray(o)?o.filter(r=>r.durumu===1):[o].filter(r=>r.durumu===1);return t(c),c}catch(o){return console.error(`Error fetching data from ${a}:`,((l=o.response)==null?void 0:l.data)||o.message),h(((n=(s=o.response)==null?void 0:s.data)==null?void 0:n.message)||"Veriler yüklenemedi.","error"),[]}},ze=async a=>{console.log("Mapping supplier data:",a);let t="Bilinmiyor";try{if(a.tedarikciSiniflandirmaId){const s=Ae.find(n=>n.id===a.tedarikciSiniflandirmaId);if(s)t=s.adi||t;else try{const n=await E.get(`${w}/tedarikciSiniflandirma/get-by-id/${a.tedarikciSiniflandirmaId}`,{headers:{accept:"*/*"}});console.log("Classification API response (tedarikciSiniflandirma/get-by-id):",n.data),n.data&&(t=n.data.adi||t)}catch(n){console.warn("Sınıflandırma detayı alınamadı:",n)}}}catch(s){console.error("Sınıflandırma dönüşüm hatası:",s)}const l={id:a.id||0,name:a.unvan||a.name||"Bilinmiyor",openBalance:Number(a.acilisBakiyesi)||0,chequeBondBalance:0,phone:a.telefon||a.phone||"",classification:t,email:a.email||"",address:a.adres||a.address||"",taxOffice:a.vergiDairesi||"",taxOrIdNumber:a.vergiNo||"",accountingCode:a.kodu||"",note:a.aciklama||"",currency:a.paraBirimi||"TRY",dueDate:a.vadeGun||"",isTaxExempt:!!a.vergiMuaf||!1,bankInfo:a.bankaBilgileri||"",contactPerson:a.yetkiliKisi||"",otherContact:a.diger||"",fotograf:Se(a.fotograf)};return console.log("Mapped supplier:",l),l},ke=j.useCallback(async()=>{var a,t;L(!0);try{try{await Le(`${w}/tedarikciSiniflandirma/get-all`,Ie,{headers:{accept:"*/*"}})}catch(o){console.warn("Sınıflandırmalar yüklenemedi:",o)}console.log("Tedarikçi ID:",d);const{data:l}=await E.get(`${w}/tedarikci/tedarikci-get-by-Id/${d}`,{headers:{accept:"*/*"}});if(console.log("API Response (tedarikci/tedarikci-get-by-Id):",l),!l)throw new Error("Tedarikçi verisi alınamadı.");const s=Array.isArray(l)?l[0]:l;if(!s)throw new Error("Tedarikçi bulunamadı.");if(s.durumu!==void 0&&s.durumu!==1)throw new Error("Tedarikçi aktif değil.");const n=await ze(s);he(n),ye(),ge(null)}catch(l){console.error("Tedarikçi yükleme hatası:",l);const s=((t=(a=l.response)==null?void 0:a.data)==null?void 0:t.message)||l.message||"Tedarikçi yüklenemedi.";ge(s),h(s,"error")}finally{L(!1)}},[d]),ye=async()=>{var a,t;try{X([]),H([]);const{data:l}=await E.get(`${w}/alis/alis-get-by-tedarikci-id/${d}`,{headers:{accept:"*/*"}});console.log("Purchases API response (alis/alis-get-by-tedarikci-id):",l);const n=(Array.isArray(l)?l:[]).filter(r=>typeof(r==null?void 0:r.durumu)=="number"?r.durumu===1:!0).map(r=>{var Re;const U=Number((r==null?void 0:r.miktar)??0)||0,I=Number((r==null?void 0:r.fiyat)??(r==null?void 0:r.birimFiyat)??0)||0,i=Number((r==null?void 0:r.indirim)??0)||0,W=U*I*(1-i/100),K=(r==null?void 0:r.toplam)??(r==null?void 0:r.tutar)??(r==null?void 0:r.toplamTutar)??(r==null?void 0:r.genelToplam)??W,M=Number(K)||0,pe=(r==null?void 0:r.tarih)||(r==null?void 0:r.islemTarihi)||(r==null?void 0:r.olusturmaTarihi)||"",Te=pe?new Date(pe):null;return{id:(r==null?void 0:r.id)??(r==null?void 0:r.fisId)??(r==null?void 0:r.islemId)??Math.random(),date:Te?Te.toLocaleDateString("tr-TR"):"",no:(r==null?void 0:r.no)||(r==null?void 0:r.fisNo)||(r==null?void 0:r.belgeNo)||(r==null?void 0:r.numara)||"",status:typeof(r==null?void 0:r.durumu)=="number"?r.durumu===1?"Aktif":"Pasif":(r==null?void 0:r.durum)||"",amount:M,currency:(r==null?void 0:r.paraBirimi)||"TRY",quantity:U,productId:(r==null?void 0:r.urunId)??null,name:(r==null?void 0:r.urunAdi)||(r==null?void 0:r.hizmetAdi)||((Re=r==null?void 0:r.urun)==null?void 0:Re.adi)||(r==null?void 0:r.adi)||(r==null?void 0:r.aciklama)||"",price:I||M,description:(r==null?void 0:r.aciklama)||"",user:(r==null?void 0:r.kullanici)||(r==null?void 0:r.olusturanKullanici)||"Bilinmiyor"}});let o=n;if(n.some(r=>(!r.name||r.name.trim()==="")&&r.productId))try{const r=await E.get(`${w}/urun/urun-get-all`,{headers:{accept:"*/*"}});console.log("Products API response (urun/urun-get-all):",r.data);const U=Array.isArray(r.data)?r.data:[],I=new Map(U.map(i=>[i.id,i.adi]));o=n.map(i=>({...i,name:i.name&&i.name.trim()!==""?i.name:I.get(i.productId)||i.name||""}))}catch(r){console.error("Ürün isimleri yüklenemedi:",r)}X(o);try{const r=await E.get(`${w}/tedarikciodeme/tedarikciodeme-get-by-tedarikciId/${d}`,{headers:{accept:"*/*"}});console.log("Payments API response (tedarikciodeme/tedarikciodeme-get-by-tedarikciId):",r.data);const I=(Array.isArray(r.data)?r.data:[]).filter(i=>typeof(i==null?void 0:i.durumu)=="number"?i.durumu===1:!0).map(i=>{var M;const W=(i==null?void 0:i.eklenmeTarihi)||(i==null?void 0:i.guncellenmeTarihi)||"",K=W?new Date(W):null;return{id:(i==null?void 0:i.id)??Math.random(),date:K?K.toLocaleDateString("tr-TR"):"",no:((M=i==null?void 0:i.id)==null?void 0:M.toString())||"",status:typeof(i==null?void 0:i.durumu)=="number"?i.durumu===1?"Aktif":"Pasif":"Aktif",amount:Number((i==null?void 0:i.tutar)??0)||0,currency:(i==null?void 0:i.paraBirimi)||"TRY",description:(i==null?void 0:i.aciklama)||"",supplierId:i==null?void 0:i.tedarikciId}});H(I)}catch(r){console.error("Ödemeler yüklenirken hata:",r),h("Ödemeler yüklenemedi.","error"),H([])}}catch(l){console.error("Alışlar ve ödemeler yüklenirken hata:",l),h(((t=(a=l.response)==null?void 0:a.data)==null?void 0:t.message)||"Veriler yüklenemedi.","error"),X([]),H([])}};j.useEffect(()=>{d&&ke()},[d,ke]),j.useEffect(()=>{const a=localStorage.getItem(G);if(a){const t=JSON.parse(a);z(t)}setTimeout(me,100)},[]);const Me=a=>{Ue(a),Z(!0)},fe=()=>{P("/app/purchases/registered-supplier-purchase",{state:{supplier:u}})},y=a=>{h(`${a} özelliği henüz uygulanmadı.`,"info")},$e=()=>{ae({tedarikciId:d,paraBirimi:"TRY",tutar:"",aciklama:"",tarih:""}),je(!0)},se=()=>{je(!1),ae({tedarikciId:null,paraBirimi:"TRY",tutar:"",aciklama:"",tarih:""})},q=(a,t)=>{ae(l=>({...l,[a]:t}))},Oe=async()=>{var a,t;if(!p.tutar||Number(p.tutar)<=0){h("Lütfen geçerli bir tutar giriniz.","error");return}try{const l=JSON.parse(localStorage.getItem("user"))||{id:0};if(!l.id){h("Geçerli bir kullanıcı oturumu bulunamadı.","error");return}const s={tedarikciId:Number(p.tedarikciId),paraBirimi:p.paraBirimi||"TRY",tutar:Number(p.tutar),aciklama:p.aciklama,tarih:p.tarih,durumu:1,aktif:1,kullaniciId:l.id};console.log("Payment create payload:",s);const n=await E.post(`${w}/tedarikciodeme/tedarikciodeme-create`,s,{headers:{"Content-Type":"multipart/form-data",accept:"*/*"}});console.log("Payment create API response (tedarikciodeme/tedarikciodeme-create):",n.data),h("Ödeme başarıyla kaydedildi.","success"),se(),ye()}catch(l){console.error("Ödeme kaydedilirken hata:",l),h(((t=(a=l.response)==null?void 0:a.data)==null?void 0:t.message)||"Ödeme kaydedilemedi. Lütfen tekrar deneyin.","error")}},He=async()=>{var a,t,l,s;if(!d){console.error("ID eksik:",d),h("Tedarikçi ID'si bulunamadı.","error"),L(!1),F(!1);return}L(!0);try{const n=JSON.parse(localStorage.getItem("user"))||{id:0};if(!n.id){h("Geçerli bir kullanıcı oturumu bulunamadı.","error");return}console.log("Silme isteği gönderiliyor: ID =",d,"Kullanıcı ID =",n.id);const o=await E.delete(`${w}/tedarikci/tedarikci-delete/${d}?kullaniciId=${n.id}`,{headers:{accept:"*/*"}});console.log("Delete API response (tedarikci/tedarikci-delete):",o.data),h("Tedarikçi başarıyla silindi.","success"),P("/app/suppliers")}catch(n){console.error("Silme Hatası:",{message:n.message,status:(a=n.response)==null?void 0:a.status,data:(t=n.response)==null?void 0:t.data}),h(((s=(l=n.response)==null?void 0:l.data)==null?void 0:s.message)||"Tedarikçi silinemedi. Lütfen tekrar deneyin.","error")}finally{L(!1),F(!1)}};if(ee)return e.jsxs(D,{children:[e.jsx(b,{style:{backgroundColor:"#2965A8",color:"white"},children:"Tedarikçi Bilgisi"}),e.jsx(S,{children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"spinner-border text-primary mb-3",role:"status",children:e.jsx("span",{className:"visually-hidden",children:"Yükleniyor..."})}),e.jsx("h5",{children:"Tedarikçi bilgileri yükleniyor..."}),e.jsx("p",{className:"text-muted",children:"Lütfen bekleyiniz."})]})})]});if(xe||!u)return e.jsxs(D,{children:[e.jsx(b,{style:{backgroundColor:"#dc3545",color:"white"},children:"Tedarikçi Bilgisi"}),e.jsx(S,{children:e.jsxs("div",{className:"text-center",children:[e.jsx("h5",{className:"text-danger mb-3",children:xe||"Tedarikçi bulunamadı."}),e.jsxs("p",{className:"text-muted mb-3",children:["Tedarikçi ID: ",d]}),e.jsxs("div",{className:"d-flex gap-2 justify-content-center",children:[e.jsx(R,{color:"primary",onClick:()=>P("/app/suppliers"),children:"Tedarikçi Listesine Dön"}),e.jsx(R,{color:"secondary",onClick:()=>window.location.reload(),children:"Sayfayı Yenile"})]})]})})]});const v=Be(),A=Pe();return e.jsxs(e.Fragment,{children:[e.jsxs(Y,{children:[e.jsx(x,{xs:12,children:e.jsxs(D,{children:[e.jsx(b,{style:{backgroundColor:"#2965A8",color:"#fff",fontSize:"24px"},children:e.jsxs(Y,{className:"align-items-center",children:[e.jsx(x,{xs:2,children:e.jsx("img",{src:u.fotograf,alt:"Tedarikçi resmi",style:{width:"100px",height:"100px",objectFit:"cover"},onError:a=>{a.target.src=Se(null)}})}),e.jsxs(x,{xs:10,children:[e.jsx("h3",{children:u.name.toUpperCase()}),e.jsxs("p",{style:{fontSize:"14px"},children:[e.jsx("strong",{children:"Telefon:"})," ",u.phone]}),e.jsxs("p",{style:{fontSize:"14px"},children:[e.jsx("strong",{children:"E-Posta:"})," ",u.email]}),e.jsxs("p",{style:{fontSize:"14px"},children:[e.jsx("strong",{children:"Adres:"})," ",u.address]}),e.jsxs("p",{style:{fontSize:"14px"},children:[e.jsx("strong",{children:"Vergi Dairesi/No:"})," ",u.taxOffice||"Yok","/",u.taxOrIdNumber]})]})]})}),e.jsx(S,{children:e.jsxs(Y,{children:[e.jsx(x,{children:e.jsxs(D,{children:[e.jsx(b,{className:"bg-danger",style:{color:"white"},children:"Açık Bakiye"}),e.jsx(S,{children:e.jsxs("p",{className:"fw-bold",children:[u.openBalance.toLocaleString("tr-TR")," TRY"]})})]})}),e.jsx(x,{children:e.jsxs(D,{children:[e.jsx(b,{className:"bg-warning",style:{color:"white"},children:"Çek Bakiyesi"}),e.jsx(S,{children:e.jsxs("p",{className:"fw-bold",children:[u.chequeBondBalance.toLocaleString("tr-TR")," TRY"]})})]})}),e.jsx(x,{children:e.jsxs(D,{children:[e.jsx(b,{className:"bg-info",style:{color:"white"},children:"Senet Bakiyesi"}),e.jsx(S,{children:e.jsxs("p",{className:"fw-bold",children:[u.chequeBondBalance.toLocaleString("tr-TR")," TRY"]})})]})})]})})]})}),e.jsx(x,{xs:12,className:"my-3",children:e.jsxs(D,{children:[e.jsx(b,{style:{backgroundColor:"#6f42c1",color:"white"},children:"Döviz Kuru Bilgileri"}),e.jsx(S,{children:e.jsxs(Y,{className:"align-items-center",children:[e.jsx(x,{md:8,children:e.jsxs("div",{style:{display:"flex",gap:"30px",flexWrap:"wrap",alignItems:"center"},children:[e.jsxs("div",{children:[e.jsx("strong",{children:"USD:"})," ",T.USD.toFixed(2)," TRY"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"EUR:"})," ",T.EUR.toFixed(2)," TRY"]}),T.lastUpdated&&e.jsxs("div",{style:{fontSize:"12px",color:"#6c757d"},children:["Son güncelleme: ",Fe(T.lastUpdated)]}),T.error&&e.jsx("div",{style:{fontSize:"12px",color:"#dc3545"},children:T.error})]})}),e.jsx(x,{md:4,className:"text-end",children:e.jsxs(R,{color:"secondary",size:"sm",onClick:me,disabled:T.loading,children:[e.jsx(De,{icon:Qe,style:{marginRight:"5px"}}),T.loading?"Güncelleniyor...":"Kurları Güncelle"]})})]})})]})}),e.jsx(x,{xs:12,className:"my-3",children:e.jsxs("div",{className:"d-flex gap-2",children:[e.jsxs(_,{children:[e.jsx(V,{color:"success",style:{color:"white"},children:"Alış Yap"}),e.jsxs(J,{children:[e.jsx(g,{onClick:fe,children:"Ürün Al"}),e.jsx(C,{}),e.jsx(g,{onClick:fe,children:"Hizmet Al"})]})]}),e.jsxs(_,{children:[e.jsx(V,{color:"primary",style:{color:"white"},children:"Ödeme/Tahsilat"}),e.jsxs(J,{children:[e.jsx(g,{onClick:$e,children:"Yeni Ödeme Ekle"}),e.jsx(C,{}),e.jsx(g,{onClick:()=>y("Çek"),children:"Çek"}),e.jsx(g,{onClick:()=>y("Senet"),children:"Senet"}),e.jsx(C,{}),e.jsx(g,{onClick:()=>y("Tahsilat İste"),children:"Tahsilat İste"}),e.jsx(g,{onClick:()=>y("Bakiye Düzelt"),children:"Bakiye Düzelt"}),e.jsx(C,{}),e.jsx(g,{onClick:()=>y("Borç-Alacak Fişleri"),children:"Borç-Alacak Fişleri"}),e.jsx(C,{}),e.jsx(g,{onClick:()=>y("Cari Virman"),children:"Cari Virman"})]})]}),e.jsxs(_,{children:[e.jsx(V,{color:"info",disabled:!0,style:{color:"white"},children:"Hesap Ekstresi"}),e.jsxs(J,{children:[e.jsx(g,{onClick:()=>y("Ekstre Linki"),children:"Ekstre Linki"}),e.jsx(g,{onClick:()=>y("Ekstre"),children:"Ekstre"}),e.jsx(g,{onClick:()=>y("Detaylı Ekstre"),children:"Detaylı Ekstre"}),e.jsx(g,{onClick:()=>y("Mutabakat Mektubu"),children:"Mutabakat Mektubu"})]})]}),e.jsxs(R,{color:"warning",style:{color:"white"},onClick:()=>y("Dökümanlar"),disabled:!0,children:[e.jsx(De,{icon:Xe})," Dökümanlar"]}),e.jsxs(_,{children:[e.jsx(V,{color:"secondary",style:{color:"white"},children:"Diğer İşlemler"}),e.jsxs(J,{children:[e.jsx(g,{onClick:()=>re(!0),children:"Tedarikçi Bilgilerini Güncelle"}),e.jsx(C,{}),e.jsx(g,{disabled:!0,onClick:()=>y("Tedarikçiye Satış Yap"),children:"Tedarikçiye Satış Yap"}),e.jsx(C,{}),e.jsx(g,{disabled:!0,onClick:()=>y("Tedarikçiye İade Ver"),children:"Tedarikçiye İade Ver"}),e.jsx(C,{}),e.jsx(g,{onClick:()=>F(!0),children:"Tedarikçiyi Sil"}),e.jsx(C,{}),e.jsx(g,{disabled:!0,onClick:()=>y("Etiket Yazdır"),children:"Etiket Yazdır"})]})]})]})}),e.jsx(x,{xs:12,children:e.jsxs(Y,{children:[e.jsx(x,{className:"mt-3",children:e.jsxs(D,{children:[e.jsx(b,{style:{backgroundColor:"#2965A8",color:"white"},children:e.jsx("div",{className:"d-flex justify-content-between align-items-center",children:e.jsx("span",{children:"Önceki Ürün/Hizmet Alışları"})})}),e.jsxs(S,{children:[e.jsxs("div",{style:{backgroundColor:"#f8f9fa",padding:"15px",marginBottom:"20px",borderRadius:"5px",border:"1px solid #dee2e6"},children:[e.jsxs("h6",{style:{margin:0,color:"#2965A8",marginBottom:"10px"},children:["Genel Toplam (TRY):"," ",v.totalAllInTRY.toLocaleString("tr-TR",{minimumFractionDigits:2,maximumFractionDigits:2})," ","TRY"]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"5px",fontSize:"14px"},children:[e.jsxs("span",{style:{color:"#2965A8",fontWeight:"bold"},children:["TRY:"," ",v.totalTRY.toLocaleString("tr-TR",{minimumFractionDigits:2,maximumFractionDigits:2})," ","TRY"]}),e.jsxs("span",{style:{color:"#28a745",fontWeight:"bold"},children:["EUR:"," ",v.totalEUR.toLocaleString("tr-TR",{minimumFractionDigits:2,maximumFractionDigits:2})," ","EUR ≈"," ",v.totalEURinTRY.toLocaleString("tr-TR",{minimumFractionDigits:2,maximumFractionDigits:2})," ","TRY"]}),e.jsxs("span",{style:{color:"#dc3545",fontWeight:"bold"},children:["USD:"," ",v.totalUSD.toLocaleString("tr-TR",{minimumFractionDigits:2,maximumFractionDigits:2})," ","USD ≈"," ",v.totalUSDinTRY.toLocaleString("tr-TR",{minimumFractionDigits:2,maximumFractionDigits:2})," ","TRY"]})]})]}),e.jsxs(ne,{responsive:!0,children:[e.jsx(le,{children:e.jsxs(N,{children:[e.jsx(m,{children:"Tarih"}),e.jsx(m,{children:"No"}),e.jsx(m,{children:"Ürün/Hizmet"}),e.jsx(m,{children:"Miktar"}),e.jsx(m,{children:"Para Birimi"}),e.jsx(m,{children:"Durum"}),e.jsx(m,{children:"Tutar"})]})}),e.jsx(ie,{children:$.map(a=>e.jsxs(N,{onClick:()=>Me(a),children:[e.jsx(k,{children:a.date}),e.jsx(k,{children:a.no}),e.jsx(k,{children:a.name||"-"}),e.jsx(k,{children:a.quantity??"-"}),e.jsx(k,{children:a.currency||"TRY"}),e.jsx(k,{children:a.status}),e.jsxs(k,{children:[a.amount.toLocaleString("tr-TR")," ",a.currency||"TRY"]})]},a.id))})]})]})]})}),e.jsx(x,{className:"mt-3",children:e.jsxs(D,{children:[e.jsx(b,{style:{backgroundColor:"#2965A8",color:"white"},children:e.jsx("div",{className:"d-flex justify-content-between align-items-center",children:e.jsx("span",{children:"Önceki Ödemeler"})})}),e.jsxs(S,{children:[e.jsxs("div",{style:{backgroundColor:"#f8f9fa",padding:"15px",marginBottom:"20px",borderRadius:"5px",border:"1px solid #dee2e6"},children:[e.jsxs("h6",{style:{margin:0,color:"#2965A8",marginBottom:"10px"},children:["Genel Toplam (TRY):"," ",A.totalAllInTRY.toLocaleString("tr-TR",{minimumFractionDigits:2,maximumFractionDigits:2})," ","TRY"]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"5px",fontSize:"14px"},children:[e.jsxs("span",{style:{color:"#2965A8",fontWeight:"bold"},children:["TRY:"," ",A.totalTRY.toLocaleString("tr-TR",{minimumFractionDigits:2,maximumFractionDigits:2})," ","TRY"]}),e.jsxs("span",{style:{color:"#28a745",fontWeight:"bold"},children:["EUR:"," ",A.totalEUR.toLocaleString("tr-TR",{minimumFractionDigits:2,maximumFractionDigits:2})," ","EUR ≈"," ",A.totalEURinTRY.toLocaleString("tr-TR",{minimumFractionDigits:2,maximumFractionDigits:2})," ","TRY"]}),e.jsxs("span",{style:{color:"#dc3545",fontWeight:"bold"},children:["USD:"," ",A.totalUSD.toLocaleString("tr-TR",{minimumFractionDigits:2,maximumFractionDigits:2})," ","USD ≈"," ",A.totalUSDinTRY.toLocaleString("tr-TR",{minimumFractionDigits:2,maximumFractionDigits:2})," ","TRY"]})]})]}),e.jsxs(ne,{responsive:!0,children:[e.jsx(le,{children:e.jsxs(N,{children:[e.jsx(m,{children:"Tarih"}),e.jsx(m,{children:"No"}),e.jsx(m,{children:"Açıklama"}),e.jsx(m,{children:"Para Birimi"}),e.jsx(m,{children:"Durum"}),e.jsx(m,{children:"Tutar"})]})}),e.jsx(ie,{children:O.map(a=>e.jsxs(N,{children:[e.jsx(k,{children:a.date}),e.jsx(k,{children:a.no}),e.jsx(k,{children:a.description||"-"}),e.jsx(k,{children:a.currency}),e.jsx(k,{children:a.status}),e.jsxs(k,{children:[a.amount.toLocaleString("tr-TR")," ",a.currency]})]},a.id))})]})]})]})})]})})]}),e.jsxs(te,{visible:Ce,onClose:()=>Z(!1),backdrop:"static",children:[e.jsx(oe,{children:e.jsx(ce,{children:"Alış Detayları"})}),e.jsxs(de,{children:[e.jsxs(ne,{responsive:!0,children:[e.jsx(le,{children:e.jsxs(N,{children:[e.jsx(m,{children:"Ürün/Hizmet Adı"}),e.jsx(m,{children:"Fiyat"}),e.jsx(m,{children:"Tutar"})]})}),e.jsx(ie,{children:f&&e.jsxs(N,{children:[e.jsx(k,{children:f.name}),e.jsxs(k,{children:[f.price.toLocaleString("tr-TR")," ",f.currency||"TRY"]}),e.jsxs(k,{children:[f.amount.toLocaleString("tr-TR")," ",f.currency||"TRY"]})]})})]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Açıklama:"})," ",(f==null?void 0:f.description)||"Yok"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Kullanıcı:"})," ",(f==null?void 0:f.user)||"Bilinmiyor"]})]}),e.jsxs(ue,{children:[e.jsx(R,{color:"primary",onClick:()=>P("/app/purchases"),children:"Alış Ekranına Gir"}),e.jsx(R,{color:"secondary",onClick:()=>Z(!1),children:"Kapat"})]})]}),e.jsxs(te,{visible:we,onClose:()=>F(!1),backdrop:"static",children:[e.jsx(oe,{style:{backgroundColor:"var(--danger-color)",color:"var(--white-color)"},children:e.jsx(ce,{children:"Tedarikçiyi Sil"})}),e.jsx(de,{children:e.jsxs("p",{children:[e.jsx("strong",{children:u.name})," adlı tedarikçiyi silmek istediğinizden emin misiniz? Bu işlem geri alınamaz."]})}),e.jsxs(ue,{children:[e.jsx(R,{style:{backgroundColor:"var(--danger-color)",color:"var(--white-color)"},onClick:He,disabled:ee,children:"Evet, Sil"}),e.jsx(R,{color:"secondary",onClick:()=>F(!1),disabled:ee,children:"İptal"})]})]}),e.jsx(Je,{visible:Ye,onClose:()=>re(!1),onSubmit:a=>{he({...u,...a,fotograf:a.fotograf||u.fotograf}),h("Tedarikçi güncellendi.","success"),re(!1)},supplier:u,addToast:h}),e.jsxs(te,{visible:ve,onClose:se,backdrop:"static",size:"lg",children:[e.jsx(oe,{children:e.jsx(ce,{children:"Yeni Ödeme Ekle"})}),e.jsx(de,{children:e.jsxs(Ke,{children:[e.jsxs(Y,{children:[e.jsxs(x,{md:6,children:[e.jsx(Q,{htmlFor:"paraBirimi",children:"Para Birimi *"}),e.jsxs(_e,{id:"paraBirimi",value:p.paraBirimi||"TRY",onChange:a=>q("paraBirimi",a.target.value),required:!0,children:[e.jsx("option",{value:"TRY",children:"TRY - Türk Lirası"}),e.jsx("option",{value:"EUR",children:"EUR - Euro"}),e.jsx("option",{value:"USD",children:"USD - Amerikan Doları"})]})]}),e.jsxs(x,{md:6,children:[e.jsx(Q,{htmlFor:"tutar",children:"Tutar *"}),e.jsx(be,{id:"tutar",type:"number",step:"0.01",min:"0",placeholder:"0.00",value:p.tutar,onChange:a=>q("tutar",a.target.value),required:!0})]})]}),e.jsxs(Y,{className:"mt-3",children:[e.jsxs(x,{md:6,children:[e.jsx(Q,{htmlFor:"tarih",children:"Tarih *"}),e.jsx(be,{id:"tarih",type:"date",value:p.tarih,onChange:a=>q("tarih",a.target.value),required:!0})]}),e.jsxs(x,{md:6,children:[e.jsx(Q,{htmlFor:"aciklama",children:"Açıklama"}),e.jsx(Ve,{id:"aciklama",rows:4,placeholder:"Ödeme açıklaması...",value:p.aciklama,onChange:a=>q("aciklama",a.target.value)})]})]}),e.jsx(Y,{className:"mt-3",children:e.jsx(x,{md:12,children:e.jsxs("div",{className:"alert alert-info",children:[e.jsx("strong",{children:"Tedarikçi:"})," ",u==null?void 0:u.name," (ID:"," ",p.tedarikciId,")"]})})})]})}),e.jsxs(ue,{children:[e.jsx(R,{color:"success",style:{color:"#fff"},onClick:Oe,children:"Kaydet"}),e.jsx(R,{color:"secondary",onClick:se,children:"İptal"})]})]})]})};export{lr as default};
