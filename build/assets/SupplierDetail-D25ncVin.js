import{ai as _e,J as qe,u as Ge,r as j,t as U,j as e,g as D,s as b,h as S,q as R,e as E,f as u,m as De,B as K,D as V,E as J,F as x,$ as ne,a0 as le,a1 as N,a2 as m,a3 as ie,a4 as k,N as te,Q as ce,S as oe,T as de,W as he,i as We,U as Q,V as Ke,o as be,a8 as Ve}from"./index-DAwD_DDx.js";import{S as Je}from"./SupplierModal-Dr3iiJ8M.js";import{c as Qe}from"./cil-reload-6LI_qKMh.js";import{C}from"./CDropdownDivider-CxDfJebD.js";import{c as Xe}from"./cil-list-CLA-Txc1.js";const Y="https://speedsofttest.com/api",Se=d=>{if(!d||typeof d!="string"||d==="null")return`data:image/svg+xml;base64,${window.btoa(unescape(encodeURIComponent(`
      <svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100">
        <rect width="100" height="100" fill="#e9ecef"/>
        <circle cx="50" cy="35" r="15" fill="#6c757d"/>
        <path d="M20 80 Q50 60 80 80" stroke="#6c757d" stroke-width="3" fill="none"/>
        <text x="50" y="95" text-anchor="middle" font-family="Arial" font-size="8" fill="#6c757d">Fotoğraf Yok</text>
      </svg>
    `)))}`;if(d.startsWith("https"))return`${d}?t=${new Date().getTime()}`;const F=d.startsWith("/")?d:`/${d}`;return`${BASE_PHOTO_URL}${F}?t=${new Date().getTime()}`},lr=()=>{const{id:d}=_e(),{state:F}=qe(),I=Ge(),[h,ue]=j.useState((F==null?void 0:F.supplier)||null),[$,X]=j.useState([]),[H,O]=j.useState([]),[Ce,Z]=j.useState(!1),[we,P]=j.useState(!1),[f,Ue]=j.useState(null),[ee,L]=j.useState(!1),[xe,je]=j.useState(null),[Ze,Ee]=j.useState([]),[Ye,re]=j.useState(!1),[ve,ge]=j.useState(!1),[Ae,Be]=j.useState([]),[p,ae]=j.useState({tedarikciId:null,paraBirimi:"TRY",tutar:"",aciklama:""}),[T,z]=j.useState({USD:32.5,EUR:35.2,lastUpdated:new Date,loading:!1,error:null}),_="doviz_kurlari_cache_supplier",Ne=async()=>{const a=localStorage.getItem(_);if(a){const s=JSON.parse(a),n=new Date(s.lastUpdated).getTime();if(new Date().getTime()-n<5*60*1e3)return s}const t=[{url:"https://api.fastforex.io/fetch-multi?from=TRY&to=USD,EUR&api_key=demo",parser:s=>{var n,o;return{USD:(n=s.results)!=null&&n.USD?1/s.results.USD:32.5,EUR:(o=s.results)!=null&&o.EUR?1/s.results.EUR:35.2}}},{url:"https://api.exchangerate.host/latest?base=TRY&symbols=USD,EUR",parser:s=>{var n,o;return{USD:(n=s.rates)!=null&&n.USD?1/s.rates.USD:32.5,EUR:(o=s.rates)!=null&&o.EUR?1/s.rates.EUR:35.2}}},{url:"https://cdn.jsdelivr.net/npm/@fawazahmed0/currency-api@latest/v1/currencies/try.json",parser:s=>{var n,o;return{USD:(n=s.try)!=null&&n.usd?1/s.try.usd:32.5,EUR:(o=s.try)!=null&&o.eur?1/s.try.eur:35.2}}}],i=new Promise((s,n)=>setTimeout(()=>n(new Error("Timeout")),3e3));for(const s of t)try{const n=fetch(s.url).then(w=>{if(!w.ok)throw new Error("API error");return w.json()}),o=await Promise.race([n,i]),c=s.parser(o),r={USD:c.USD,EUR:c.EUR,lastUpdated:new Date,loading:!1,error:null};return localStorage.setItem(_,JSON.stringify(r)),r}catch(n){console.log(`API ${s.url} çalışmadı:`,n);continue}throw new Error("Tüm hızlı API'ler çalışmadı")},me=async()=>{try{z(t=>({...t,loading:!0,error:null}));const a=await Ne();z(a),g("Döviz kurları güncellendi.","success")}catch{console.log("Hızlı API'ler çalışmadı, fallback kullanılıyor");const t=localStorage.getItem(_);if(t){const i=JSON.parse(t);z(i),g("Güncel kurlar alınamadı, önbellek kullanılıyor","warning");return}z({USD:32.5,EUR:35.2,lastUpdated:new Date,loading:!1,error:"Gerçek kurlar alınamadı, yaklaşık değerler kullanılıyor"}),g("Döviz kurları alınamadı, yaklaşık değerler kullanılıyor.","warning")}},Fe=()=>{const a=$.reduce((c,r)=>(r.currency||"TRY")==="TRY"?c+(r.amount||0):c,0),t=$.reduce((c,r)=>(r.currency||"TRY")==="EUR"?c+(r.amount||0):c,0),i=$.reduce((c,r)=>(r.currency||"TRY")==="USD"?c+(r.amount||0):c,0),s=t*T.EUR,n=i*T.USD,o=a+s+n;return{totalTRY:a,totalEUR:t,totalUSD:i,totalEURinTRY:s,totalUSDinTRY:n,totalAllInTRY:o}},Ie=()=>{const a=H.reduce((c,r)=>(r.currency||"TRY")==="TRY"?c+(r.amount||0):c,0),t=H.reduce((c,r)=>(r.currency||"TRY")==="EUR"?c+(r.amount||0):c,0),i=H.reduce((c,r)=>(r.currency||"TRY")==="USD"?c+(r.amount||0):c,0),s=t*T.EUR,n=i*T.USD,o=a+s+n;return{totalTRY:a,totalEUR:t,totalUSD:i,totalEURinTRY:s,totalUSDinTRY:n,totalAllInTRY:o}},Pe=a=>new Date(a).toLocaleDateString("tr-TR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),g=(a,t="success")=>{Ee(i=>[...i,{id:Date.now(),message:a,type:t}])},Le=async(a,t)=>{var i,s;try{const{data:n}=await U.get(a),o=Array.isArray(n)?n.filter(c=>c.durumu===1):[n].filter(c=>c.durumu===1);return t(o),o}catch(n){return g(((s=(i=n.response)==null?void 0:i.data)==null?void 0:s.message)||"Veriler yüklenemedi.","error"),[]}},ze=async a=>{console.log("Mapping supplier data:",a);let t="Bilinmiyor";try{if(a.tedarikciSiniflandirmaId){const s=Ae.find(n=>n.id===a.tedarikciSiniflandirmaId);if(s)t=s.adi||t;else try{const n=await U.get(`${Y}/tedarikciSiniflandirma/get-by-id/${a.tedarikciSiniflandirmaId}`,{headers:{accept:"*/*"}});n.data&&(t=n.data.adi||t)}catch(n){console.warn("Sınıflandırma detayı alınamadı:",n)}}}catch(s){console.error("Sınıflandırma dönüşüm hatası:",s)}const i={id:a.id||0,name:a.unvan||a.name||"Bilinmiyor",openBalance:Number(a.acilisBakiyesi)||0,chequeBondBalance:0,phone:a.telefon||a.phone||"",classification:t,email:a.email||"",address:a.adres||a.address||"",taxOffice:a.vergiDairesi||"",taxOrIdNumber:a.vergiNo||"",accountingCode:a.kodu||"",note:a.aciklama||"",currency:a.paraBirimi||"TRY",dueDate:a.vadeGun||"",isTaxExempt:!!a.vergiMuaf||!1,bankInfo:a.bankaBilgileri||"",contactPerson:a.yetkiliKisi||"",otherContact:a.diger||"",fotograf:Se(a.fotograf)};return console.log("Mapped supplier:",i),i},ke=j.useCallback(async()=>{var a,t;L(!0);try{try{await Le(`${Y}/tedarikciSiniflandirma/get-all`,Be,{headers:{accept:"*/*"}})}catch(o){console.warn("Sınıflandırmalar yüklenemedi:",o)}console.log("Tedarikçi ID:",d);const{data:i}=await U.get(`${Y}/tedarikci/tedarikci-get-by-Id/${d}`,{headers:{accept:"*/*"}});if(console.log("API Response:",i),!i)throw new Error("Tedarikçi verisi alınamadı.");const s=Array.isArray(i)?i[0]:i;if(!s)throw new Error("Tedarikçi bulunamadı.");if(s.durumu!==void 0&&s.durumu!==1)throw new Error("Tedarikçi aktif değil.");const n=await ze(s);ue(n),ye(),je(null)}catch(i){console.error("Tedarikçi yükleme hatası:",i);const s=((t=(a=i.response)==null?void 0:a.data)==null?void 0:t.message)||i.message||"Tedarikçi yüklenemedi.";je(s),g(s,"error")}finally{L(!1)}},[d]),ye=async()=>{var a,t;try{X([]),O([]);const{data:i}=await U.get(`${Y}/alis/alis-get-by-tedarikci-id/${d}`,{headers:{accept:"*/*"}}),n=(Array.isArray(i)?i:[]).filter(r=>typeof(r==null?void 0:r.durumu)=="number"?r.durumu===1:!0).map(r=>{var Re;const w=Number((r==null?void 0:r.miktar)??0)||0,B=Number((r==null?void 0:r.fiyat)??(r==null?void 0:r.birimFiyat)??0)||0,l=Number((r==null?void 0:r.indirim)??0)||0,G=w*B*(1-l/100),W=(r==null?void 0:r.toplam)??(r==null?void 0:r.tutar)??(r==null?void 0:r.toplamTutar)??(r==null?void 0:r.genelToplam)??G,M=Number(W)||0,pe=(r==null?void 0:r.tarih)||(r==null?void 0:r.islemTarihi)||(r==null?void 0:r.olusturmaTarihi)||"",Te=pe?new Date(pe):null;return{id:(r==null?void 0:r.id)??(r==null?void 0:r.fisId)??(r==null?void 0:r.islemId)??Math.random(),date:Te?Te.toLocaleDateString("tr-TR"):"",no:(r==null?void 0:r.no)||(r==null?void 0:r.fisNo)||(r==null?void 0:r.belgeNo)||(r==null?void 0:r.numara)||"",status:typeof(r==null?void 0:r.durumu)=="number"?r.durumu===1?"Aktif":"Pasif":(r==null?void 0:r.durum)||"",amount:M,currency:(r==null?void 0:r.paraBirimi)||"TRY",quantity:w,productId:(r==null?void 0:r.urunId)??null,name:(r==null?void 0:r.urunAdi)||(r==null?void 0:r.hizmetAdi)||((Re=r==null?void 0:r.urun)==null?void 0:Re.adi)||(r==null?void 0:r.adi)||(r==null?void 0:r.aciklama)||"",price:B||M,description:(r==null?void 0:r.aciklama)||"",user:(r==null?void 0:r.kullanici)||(r==null?void 0:r.olusturanKullanici)||"Bilinmiyor"}});let o=n;if(n.some(r=>(!r.name||r.name.trim()==="")&&r.productId))try{const r=await U.get(`${Y}/urun/urun-get-all`,{headers:{accept:"*/*"}}),w=Array.isArray(r.data)?r.data:[],B=new Map(w.map(l=>[l.id,l.adi]));o=n.map(l=>({...l,name:l.name&&l.name.trim()!==""?l.name:B.get(l.productId)||l.name||""}))}catch{}X(o);try{const r=await U.get(`${Y}/tedarikciodeme/tedarikciodeme-get-by-tedarikciId/${d}`,{headers:{accept:"*/*"}}),B=(Array.isArray(r.data)?r.data:[]).filter(l=>typeof(l==null?void 0:l.durumu)=="number"?l.durumu===1:!0).map(l=>{var M;const G=(l==null?void 0:l.eklenmeTarihi)||(l==null?void 0:l.guncellenmeTarihi)||"",W=G?new Date(G):null;return{id:(l==null?void 0:l.id)??Math.random(),date:W?W.toLocaleDateString("tr-TR"):"",no:((M=l==null?void 0:l.id)==null?void 0:M.toString())||"",status:typeof(l==null?void 0:l.durumu)=="number"?l.durumu===1?"Aktif":"Pasif":"Aktif",amount:Number((l==null?void 0:l.tutar)??0)||0,currency:(l==null?void 0:l.paraBirimi)||"TRY",description:(l==null?void 0:l.aciklama)||"",supplierId:l==null?void 0:l.tedarikciId}});O(B)}catch(r){console.error("Ödemeler yüklenirken hata:",r),g("Ödemeler yüklenemedi.","error"),O([])}}catch(i){g(((t=(a=i.response)==null?void 0:a.data)==null?void 0:t.message)||"Veriler yüklenemedi.","error"),X([]),O([])}};j.useEffect(()=>{d&&ke()},[d,ke]),j.useEffect(()=>{const a=localStorage.getItem(_);if(a){const t=JSON.parse(a);z(t)}setTimeout(me,100)},[]);const Me=a=>{Ue(a),Z(!0)},fe=()=>{I("/app/purchases/registered-supplier-purchase",{state:{supplier:h}})},y=a=>{g(`${a} özelliği henüz uygulanmadı.`,"info")},$e=()=>{ae({tedarikciId:d,paraBirimi:"TRY",tutar:"",aciklama:"",tarih:""}),ge(!0)},se=()=>{ge(!1),ae({tedarikciId:null,paraBirimi:"TRY",tutar:"",aciklama:"",tarih:""})},q=(a,t)=>{ae(i=>({...i,[a]:t}))},He=async()=>{var a,t;if(!p.tutar||Number(p.tutar)<=0){g("Lütfen geçerli bir tutar giriniz.","error");return}try{const i={tedarikciId:Number(p.tedarikciId),paraBirimi:p.paraBirimi||"TRY",tutar:Number(p.tutar),aciklama:p.aciklama,tarih:p.tarih,durumu:1,aktif:1};console.log(i),await U.post(`${Y}/tedarikciodeme/tedarikciodeme-create`,i,{headers:{"Content-Type":"multipart/form-data",accept:"*/*"}}),g("Ödeme başarıyla kaydedildi.","success"),se(),ye()}catch(i){console.error("Ödeme kaydedilirken hata:",i),g(((t=(a=i.response)==null?void 0:a.data)==null?void 0:t.message)||"Ödeme kaydedilemedi. Lütfen tekrar deneyin.","error")}},Oe=async()=>{var a,t,i,s;if(!d){console.error("ID eksik:",d),g("Tedarikçi ID'si bulunamadı.","error"),L(!1),P(!1);return}L(!0);try{console.log("Silme isteği gönderiliyor: ID =",d),await U.delete(`${Y}/tedarikci/tedarikci-delete/${d}`,{headers:{accept:"*/*"}}),g("Tedarikçi başarıyla silindi.","success"),I("/app/suppliers")}catch(n){console.error("Silme Hatası:",{message:n.message,status:(a=n.response)==null?void 0:a.status,data:(t=n.response)==null?void 0:t.data}),g(((s=(i=n.response)==null?void 0:i.data)==null?void 0:s.message)||"Tedarikçi silinemedi. Lütfen tekrar deneyin.","error")}finally{L(!1),P(!1)}};if(ee)return e.jsxs(D,{children:[e.jsx(b,{style:{backgroundColor:"#2965A8",color:"white"},children:"Tedarikçi Bilgisi"}),e.jsx(S,{children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"spinner-border text-primary mb-3",role:"status",children:e.jsx("span",{className:"visually-hidden",children:"Yükleniyor..."})}),e.jsx("h5",{children:"Tedarikçi bilgileri yükleniyor..."}),e.jsx("p",{className:"text-muted",children:"Lütfen bekleyiniz."})]})})]});if(xe||!h)return e.jsxs(D,{children:[e.jsx(b,{style:{backgroundColor:"#dc3545",color:"white"},children:"Tedarikçi Bilgisi"}),e.jsx(S,{children:e.jsxs("div",{className:"text-center",children:[e.jsx("h5",{className:"text-danger mb-3",children:xe||"Tedarikçi bulunamadı."}),e.jsxs("p",{className:"text-muted mb-3",children:["Tedarikçi ID: ",d]}),e.jsxs("div",{className:"d-flex gap-2 justify-content-center",children:[e.jsx(R,{color:"primary",onClick:()=>I("/app/suppliers"),children:"Tedarikçi Listesine Dön"}),e.jsx(R,{color:"secondary",onClick:()=>window.location.reload(),children:"Sayfayı Yenile"})]})]})})]});const v=Fe(),A=Ie();return e.jsxs(e.Fragment,{children:[e.jsxs(E,{children:[e.jsx(u,{xs:12,children:e.jsxs(D,{children:[e.jsx(b,{style:{backgroundColor:"#2965A8",color:"#fff",fontSize:"24px"},children:e.jsxs(E,{className:"align-items-center",children:[e.jsx(u,{xs:2,children:e.jsx("img",{src:h.fotograf,alt:"Tedarikçi resmi",style:{width:"100px",height:"100px",objectFit:"cover"},onError:a=>{a.target.src=Se(null)}})}),e.jsxs(u,{xs:10,children:[e.jsx("h3",{children:h.name.toUpperCase()}),e.jsxs("p",{style:{fontSize:"14px"},children:[e.jsx("strong",{children:"Telefon:"})," ",h.phone]}),e.jsxs("p",{style:{fontSize:"14px"},children:[e.jsx("strong",{children:"E-Posta:"})," ",h.email]}),e.jsxs("p",{style:{fontSize:"14px"},children:[e.jsx("strong",{children:"Adres:"})," ",h.address]}),e.jsxs("p",{style:{fontSize:"14px"},children:[e.jsx("strong",{children:"Vergi Dairesi/No:"})," ",h.taxOffice||"Yok","/",h.taxOrIdNumber]})]})]})}),e.jsx(S,{children:e.jsxs(E,{children:[e.jsx(u,{children:e.jsxs(D,{children:[e.jsx(b,{className:"bg-danger",style:{color:"white"},children:"Açık Bakiye"}),e.jsx(S,{children:e.jsxs("p",{className:"fw-bold",children:[h.openBalance.toLocaleString("tr-TR")," TRY"]})})]})}),e.jsx(u,{children:e.jsxs(D,{children:[e.jsx(b,{className:"bg-warning",style:{color:"white"},children:"Çek Bakiyesi"}),e.jsx(S,{children:e.jsxs("p",{className:"fw-bold",children:[h.chequeBondBalance.toLocaleString("tr-TR")," TRY"]})})]})}),e.jsx(u,{children:e.jsxs(D,{children:[e.jsx(b,{className:"bg-info",style:{color:"white"},children:"Senet Bakiyesi"}),e.jsx(S,{children:e.jsxs("p",{className:"fw-bold",children:[h.chequeBondBalance.toLocaleString("tr-TR")," TRY"]})})]})})]})})]})}),e.jsx(u,{xs:12,className:"my-3",children:e.jsxs(D,{children:[e.jsx(b,{style:{backgroundColor:"#6f42c1",color:"white"},children:"Döviz Kuru Bilgileri"}),e.jsx(S,{children:e.jsxs(E,{className:"align-items-center",children:[e.jsx(u,{md:8,children:e.jsxs("div",{style:{display:"flex",gap:"30px",flexWrap:"wrap",alignItems:"center"},children:[e.jsxs("div",{children:[e.jsx("strong",{children:"USD:"})," ",T.USD.toFixed(2)," TRY"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"EUR:"})," ",T.EUR.toFixed(2)," TRY"]}),T.lastUpdated&&e.jsxs("div",{style:{fontSize:"12px",color:"#6c757d"},children:["Son güncelleme: ",Pe(T.lastUpdated)]}),T.error&&e.jsx("div",{style:{fontSize:"12px",color:"#dc3545"},children:T.error})]})}),e.jsx(u,{md:4,className:"text-end",children:e.jsxs(R,{color:"secondary",size:"sm",onClick:me,disabled:T.loading,children:[e.jsx(De,{icon:Qe,style:{marginRight:"5px"}}),T.loading?"Güncelleniyor...":"Kurları Güncelle"]})})]})})]})}),e.jsx(u,{xs:12,className:"my-3",children:e.jsxs("div",{className:"d-flex gap-2",children:[e.jsxs(K,{children:[e.jsx(V,{color:"success",style:{color:"white"},children:"Alış Yap"}),e.jsxs(J,{children:[e.jsx(x,{onClick:fe,children:"Ürün Al"}),e.jsx(C,{}),e.jsx(x,{onClick:fe,children:"Hizmet Al"})]})]}),e.jsxs(K,{children:[e.jsx(V,{color:"primary",style:{color:"white"},children:"Ödeme/Tahsilat"}),e.jsxs(J,{children:[e.jsx(x,{onClick:$e,children:"Yeni Ödeme Ekle"}),e.jsx(C,{}),e.jsx(x,{onClick:()=>y("Çek"),children:"Çek"}),e.jsx(x,{onClick:()=>y("Senet"),children:"Senet"}),e.jsx(C,{}),e.jsx(x,{onClick:()=>y("Tahsilat İste"),children:"Tahsilat İste"}),e.jsx(x,{onClick:()=>y("Bakiye Düzelt"),children:"Bakiye Düzelt"}),e.jsx(C,{}),e.jsx(x,{onClick:()=>y("Borç-Alacak Fişleri"),children:"Borç-Alacak Fişleri"}),e.jsx(C,{}),e.jsx(x,{onClick:()=>y("Cari Virman"),children:"Cari Virman"})]})]}),e.jsxs(K,{children:[e.jsx(V,{color:"info",disabled:!0,style:{color:"white"},children:"Hesap Ekstresi"}),e.jsxs(J,{children:[e.jsx(x,{onClick:()=>y("Ekstre Linki"),children:"Ekstre Linki"}),e.jsx(x,{onClick:()=>y("Ekstre"),children:"Ekstre"}),e.jsx(x,{onClick:()=>y("Detaylı Ekstre"),children:"Detaylı Ekstre"}),e.jsx(x,{onClick:()=>y("Mutabakat Mektubu"),children:"Mutabakat Mektubu"})]})]}),e.jsxs(R,{color:"warning",style:{color:"white"},onClick:()=>y("Dökümanlar"),disabled:!0,children:[e.jsx(De,{icon:Xe})," Dökümanlar"]}),e.jsxs(K,{children:[e.jsx(V,{color:"secondary",style:{color:"white"},children:"Diğer İşlemler"}),e.jsxs(J,{children:[e.jsx(x,{onClick:()=>re(!0),children:"Tedarikçi Bilgilerini Güncelle"}),e.jsx(C,{}),e.jsx(x,{disabled:!0,onClick:()=>y("Tedarikçiye Satış Yap"),children:"Tedarikçiye Satış Yap"}),e.jsx(C,{}),e.jsx(x,{disabled:!0,onClick:()=>y("Tedarikçiye İade Ver"),children:"Tedarikçiye İade Ver"}),e.jsx(C,{}),e.jsx(x,{onClick:()=>P(!0),children:"Tedarikçiyi Sil"}),e.jsx(C,{}),e.jsx(x,{disabled:!0,onClick:()=>y("Etiket Yazdır"),children:"Etiket Yazdır"})]})]})]})}),e.jsx(u,{xs:12,children:e.jsxs(E,{children:[e.jsx(u,{className:"mt-3",children:e.jsxs(D,{children:[e.jsx(b,{style:{backgroundColor:"#2965A8",color:"white"},children:e.jsx("div",{className:"d-flex justify-content-between align-items-center",children:e.jsx("span",{children:"Önceki Ürün/Hizmet Alışları"})})}),e.jsxs(S,{children:[e.jsxs("div",{style:{backgroundColor:"#f8f9fa",padding:"15px",marginBottom:"20px",borderRadius:"5px",border:"1px solid #dee2e6"},children:[e.jsxs("h6",{style:{margin:0,color:"#2965A8",marginBottom:"10px"},children:["Genel Toplam (TRY):"," ",v.totalAllInTRY.toLocaleString("tr-TR",{minimumFractionDigits:2,maximumFractionDigits:2})," ","TRY"]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"5px",fontSize:"14px"},children:[e.jsxs("span",{style:{color:"#2965A8",fontWeight:"bold"},children:["TRY:"," ",v.totalTRY.toLocaleString("tr-TR",{minimumFractionDigits:2,maximumFractionDigits:2})," ","TRY"]}),e.jsxs("span",{style:{color:"#28a745",fontWeight:"bold"},children:["EUR:"," ",v.totalEUR.toLocaleString("tr-TR",{minimumFractionDigits:2,maximumFractionDigits:2})," ","EUR ≈"," ",v.totalEURinTRY.toLocaleString("tr-TR",{minimumFractionDigits:2,maximumFractionDigits:2})," ","TRY"]}),e.jsxs("span",{style:{color:"#dc3545",fontWeight:"bold"},children:["USD:"," ",v.totalUSD.toLocaleString("tr-TR",{minimumFractionDigits:2,maximumFractionDigits:2})," ","USD ≈"," ",v.totalUSDinTRY.toLocaleString("tr-TR",{minimumFractionDigits:2,maximumFractionDigits:2})," ","TRY"]})]})]}),e.jsxs(ne,{responsive:!0,children:[e.jsx(le,{children:e.jsxs(N,{children:[e.jsx(m,{children:"Tarih"}),e.jsx(m,{children:"No"}),e.jsx(m,{children:"Ürün/Hizmet"}),e.jsx(m,{children:"Miktar"}),e.jsx(m,{children:"Para Birimi"}),e.jsx(m,{children:"Durum"}),e.jsx(m,{children:"Tutar"})]})}),e.jsx(ie,{children:$.map(a=>e.jsxs(N,{onClick:()=>Me(a),children:[e.jsx(k,{children:a.date}),e.jsx(k,{children:a.no}),e.jsx(k,{children:a.name||"-"}),e.jsx(k,{children:a.quantity??"-"}),e.jsx(k,{children:a.currency||"TRY"}),e.jsx(k,{children:a.status}),e.jsxs(k,{children:[a.amount.toLocaleString("tr-TR")," ",a.currency||"TRY"]})]},a.id))})]})]})]})}),e.jsx(u,{className:"mt-3",children:e.jsxs(D,{children:[e.jsx(b,{style:{backgroundColor:"#2965A8",color:"white"},children:e.jsx("div",{className:"d-flex justify-content-between align-items-center",children:e.jsx("span",{children:"Önceki Ödemeler"})})}),e.jsxs(S,{children:[e.jsxs("div",{style:{backgroundColor:"#f8f9fa",padding:"15px",marginBottom:"20px",borderRadius:"5px",border:"1px solid #dee2e6"},children:[e.jsxs("h6",{style:{margin:0,color:"#2965A8",marginBottom:"10px"},children:["Genel Toplam (TRY):"," ",A.totalAllInTRY.toLocaleString("tr-TR",{minimumFractionDigits:2,maximumFractionDigits:2})," ","TRY"]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"5px",fontSize:"14px"},children:[e.jsxs("span",{style:{color:"#2965A8",fontWeight:"bold"},children:["TRY:"," ",A.totalTRY.toLocaleString("tr-TR",{minimumFractionDigits:2,maximumFractionDigits:2})," ","TRY"]}),e.jsxs("span",{style:{color:"#28a745",fontWeight:"bold"},children:["EUR:"," ",A.totalEUR.toLocaleString("tr-TR",{minimumFractionDigits:2,maximumFractionDigits:2})," ","EUR ≈"," ",A.totalEURinTRY.toLocaleString("tr-TR",{minimumFractionDigits:2,maximumFractionDigits:2})," ","TRY"]}),e.jsxs("span",{style:{color:"#dc3545",fontWeight:"bold"},children:["USD:"," ",A.totalUSD.toLocaleString("tr-TR",{minimumFractionDigits:2,maximumFractionDigits:2})," ","USD ≈"," ",A.totalUSDinTRY.toLocaleString("tr-TR",{minimumFractionDigits:2,maximumFractionDigits:2})," ","TRY"]})]})]}),e.jsxs(ne,{responsive:!0,children:[e.jsx(le,{children:e.jsxs(N,{children:[e.jsx(m,{children:"Tarih"}),e.jsx(m,{children:"No"}),e.jsx(m,{children:"Açıklama"}),e.jsx(m,{children:"Para Birimi"}),e.jsx(m,{children:"Durum"}),e.jsx(m,{children:"Tutar"})]})}),e.jsx(ie,{children:H.map(a=>e.jsxs(N,{children:[e.jsx(k,{children:a.date}),e.jsx(k,{children:a.no}),e.jsx(k,{children:a.description||"-"}),e.jsx(k,{children:a.currency}),e.jsx(k,{children:a.status}),e.jsxs(k,{children:[a.amount.toLocaleString("tr-TR")," ",a.currency]})]},a.id))})]})]})]})})]})})]}),e.jsxs(te,{visible:Ce,onClose:()=>Z(!1),backdrop:"static",children:[e.jsx(ce,{children:e.jsx(oe,{children:"Alış Detayları"})}),e.jsxs(de,{children:[e.jsxs(ne,{responsive:!0,children:[e.jsx(le,{children:e.jsxs(N,{children:[e.jsx(m,{children:"Ürün/Hizmet Adı"}),e.jsx(m,{children:"Fiyat"}),e.jsx(m,{children:"Tutar"})]})}),e.jsx(ie,{children:f&&e.jsxs(N,{children:[e.jsx(k,{children:f.name}),e.jsxs(k,{children:[f.price.toLocaleString("tr-TR")," ",f.currency||"TRY"]}),e.jsxs(k,{children:[f.amount.toLocaleString("tr-TR")," ",f.currency||"TRY"]})]})})]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Açıklama:"})," ",(f==null?void 0:f.description)||"Yok"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Kullanıcı:"})," ",(f==null?void 0:f.user)||"Bilinmiyor"]})]}),e.jsxs(he,{children:[e.jsx(R,{color:"primary",onClick:()=>I("/app/purchases"),children:"Alış Ekranına Gir"}),e.jsx(R,{color:"secondary",onClick:()=>Z(!1),children:"Kapat"})]})]}),e.jsxs(te,{visible:we,onClose:()=>P(!1),backdrop:"static",children:[e.jsx(ce,{style:{backgroundColor:"var(--danger-color)",color:"var(--white-color)"},children:e.jsx(oe,{children:"Tedarikçiyi Sil"})}),e.jsx(de,{children:e.jsxs("p",{children:[e.jsx("strong",{children:h.name})," adlı tedarikçiyi silmek istediğinizden emin misiniz? Bu işlem geri alınamaz."]})}),e.jsxs(he,{children:[e.jsx(R,{style:{backgroundColor:"var(--danger-color)",color:"var(--white-color)"},onClick:Oe,disabled:ee,children:"Evet, Sil"}),e.jsx(R,{color:"secondary",onClick:()=>P(!1),disabled:ee,children:"İptal"})]})]}),e.jsx(Je,{visible:Ye,onClose:()=>re(!1),onSubmit:a=>{ue({...h,...a,fotograf:a.fotograf||h.fotograf}),g("Tedarikçi güncellendi.","success"),re(!1)},supplier:h,addToast:g}),e.jsxs(te,{visible:ve,onClose:se,backdrop:"static",size:"lg",children:[e.jsx(ce,{children:e.jsx(oe,{children:"Yeni Ödeme Ekle"})}),e.jsx(de,{children:e.jsxs(We,{children:[e.jsxs(E,{children:[e.jsxs(u,{md:6,children:[e.jsx(Q,{htmlFor:"paraBirimi",children:"Para Birimi *"}),e.jsxs(Ke,{id:"paraBirimi",value:p.paraBirimi||"TRY",onChange:a=>q("paraBirimi",a.target.value),required:!0,children:[e.jsx("option",{value:"TRY",children:"TRY - Türk Lirası"}),e.jsx("option",{value:"EUR",children:"EUR - Euro"}),e.jsx("option",{value:"USD",children:"USD - Amerikan Doları"})]})]}),e.jsxs(u,{md:6,children:[e.jsx(Q,{htmlFor:"tutar",children:"Tutar *"}),e.jsx(be,{id:"tutar",type:"number",step:"0.01",min:"0",placeholder:"0.00",value:p.tutar,onChange:a=>q("tutar",a.target.value),required:!0})]})]}),e.jsxs(E,{className:"mt-3",children:[e.jsxs(u,{md:6,children:[e.jsx(Q,{htmlFor:"tarih",children:"Tarih *"}),e.jsx(be,{id:"tarih",type:"date",value:p.tarih,onChange:a=>q("tarih",a.target.value),required:!0})]}),e.jsxs(u,{md:6,children:[e.jsx(Q,{htmlFor:"aciklama",children:"Açıklama"}),e.jsx(Ve,{id:"aciklama",rows:4,placeholder:"Ödeme açıklaması...",value:p.aciklama,onChange:a=>q("aciklama",a.target.value)})]})]}),e.jsx(E,{className:"mt-3",children:e.jsx(u,{md:12,children:e.jsxs("div",{className:"alert alert-info",children:[e.jsx("strong",{children:"Tedarikçi:"})," ",h==null?void 0:h.name," (ID:"," ",p.tedarikciId,")"]})})})]})}),e.jsxs(he,{children:[e.jsx(R,{color:"success",style:{color:"#fff"},onClick:He,children:"Kaydet"}),e.jsx(R,{color:"secondary",onClick:se,children:"İptal"})]})]})]})};export{lr as default};
