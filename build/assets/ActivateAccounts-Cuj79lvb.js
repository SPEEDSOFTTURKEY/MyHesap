import{r as t,u as A,j as e,d as E,e as L,f as N,g as S,s as I,h as H,i as R,k as h,l as g,m as C,o as j,p as w,q as F,t as G}from"./index-DAwD_DDx.js";const M=()=>{const[n,f]=t.useState(""),[l,v]=t.useState(""),[o,r]=t.useState(""),[c,d]=t.useState(!1),[z,i]=t.useState(null),k=A(),y=()=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n)?l.length<8?(r("Lisans anahtarı en az 8 karakter olmalı"),!1):!0:(r("Geçerli bir e-posta adresi girin"),!1),b=async()=>{var s,u,m,p;if(r(""),i(null),!!y()){d(!0);try{const a=await G.post("/kullanicilar/activate",{email:n,lisansAnahtari:l});i({message:"Hesap başarıyla aktif edildi!",color:"success"}),k("/app/login")}catch(a){console.error("Aktivasyon hatası:",{message:a.message,status:(s=a.response)==null?void 0:s.status,data:(u=a.response)==null?void 0:u.data});const x=((p=(m=a.response)==null?void 0:m.data)==null?void 0:p.message)||"Aktivasyon başarısız!";r(x),i({message:x,color:"danger"})}finally{d(!1)}}};return e.jsx("div",{className:"bg-body-tertiary min-vh-100 d-flex flex-row align-items-center",children:e.jsx(E,{children:e.jsx(L,{className:"justify-content-center",children:e.jsx(N,{md:6,children:e.jsxs(S,{children:[e.jsx(I,{children:"Hesap Aktivasyonu"}),e.jsx(H,{children:e.jsxs(R,{onSubmit:s=>s.preventDefault(),children:[e.jsxs(h,{className:"mb-3",children:[e.jsx(g,{children:e.jsx(C,{icon:cilEnvelopeClosed})}),e.jsx(j,{placeholder:"E-Mail",autoComplete:"email",value:n,onChange:s=>f(s.target.value)})]}),e.jsxs(h,{className:"mb-3",children:[e.jsx(g,{children:e.jsx(C,{icon:w})}),e.jsx(j,{placeholder:"Lisans Anahtarı",value:l,onChange:s=>v(s.target.value)})]}),o&&e.jsx("p",{className:"text-danger",children:o}),e.jsx(F,{color:"primary",className:"px-4",onClick:b,disabled:c,children:c?"Yükleniyor...":"Hesabı Aktif Et"})]})})]})})})})})};export{M as default};
